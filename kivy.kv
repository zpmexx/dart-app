##:import Buttons main.Buttons

WindowManager:
    MainWindow:
    SoloWindow:
    GroupWindow:
    LoginWindow:
    GameWindow:
    ChoosePlayers:
    ScoreBoard:
    Solo180701:
    MinmaxWindow:
    SoloScoreBoard:
    FullDatabase:
    Database:
    Stats:
    RandomTraining:
    Training:
    Rules:

<MainWindow>:
    solobutton: solobutton
    name: "main"
    size: root.width,root.height
    on_leave: root.create()
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    GridLayout:
        #:set buttonColour  (0.6, 0.4, 0.1, 0.4)
        #:set buttonSizeHint (0.8,0.8)
        #:set buttonPosHint {'x': 0.1, 'y':0 }
        cols: 1
        size_hint: .6,.4
        pos_hint: {'x': 0.2 , 'y': 0.3}
        spacing: '20dp'
        RelativeLayout:
            size: 1,1   
            MDFillRoundFlatButton:
                name: 'solobutton'
                id: solobutton
                text: "Gry Solo"
                size_hint: buttonSizeHint
                pos_hint: buttonPosHint
                md_bg_color: buttonColour
                on_release: 
                    app.root.current = "login";root.manager.transition.direction = "left"  
        RelativeLayout:
            size: 1,1   
            MDFillRoundFlatButton:
                text: "Gry Drużynowe"
                size_hint: buttonSizeHint
                pos_hint: buttonPosHint
                md_bg_color: buttonColour
                on_release: 
                    app.root.current = "chooseplayers";root.manager.transition.direction = "left"
        RelativeLayout:
            size: 1,1   
            MDFillRoundFlatButton:
                text: "Zasady"
                size_hint: buttonSizeHint
                pos_hint: buttonPosHint
                md_bg_color: buttonColour
                on_release:
                    app.root.current = "rules";root.manager.transition.direction = "left"

<Rules>:
    scrollViewGrid : scrollViewGrid
    name: "rules"
    size: root.width,root.height
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    on_enter: root.create()
    # GridLayout:
    #     cols: 1
    #     size: root.width,root.height
    #     size_hint_y: None
    Label:
        text:'ZASADY'
        pos_hint: {'x': 0, 'y':0.85 }
        size_hint: 1, 0.15

        
    ScrollView:
        # id: scrollViewGrid
        # size: root.width, root.height
        size_hint: 0.8, 0.65
        pos_hint: {'x': 0.1 , 'y':0.2 }
        do_scroll_y: True
        do_scrolly_x: False
        scroll_y: 1
        GridLayout:
            cols:1  
            rows: 10
            id: scrollViewGrid
            size: root.width * 0.8, 1800
            font_size: root.width
            size_hint_x: None
            size_hint_y: None
        
            # height: self.minimum_height
            # row_default_height: 100
            # row_force_default: True
            # minimum_height: self.height
            # cols: 1
            # spacing: '30dp'
            # Label:
            #     text:'180'
            #     font_size: 40
            #     text_size: self.size
            # Label:
            #     text: "wspólne: x1-x3 są to mnożniki trafień w dane pole, Cofnij oznacza cofniecie ostatniego ruchu w przypadku pomyłki, po wszystkim mozna zapisywac do bazy, 25 oznacza bull, czyli 25 punktów za rzut, 50 to Bull's Eye (50 pkt) 180,301,501,701 - Liczba Pozostało oznacza sume punktów które należy wyrzucić by zakończyć gre. W grach chodzi o jak najszybsze uzbieranie danej liczby punktów i zakończenie odpowiednią lotką opartą o liczbe punktów min Pozostało oznacza liczbe rzutów do końca,  pudlo skutkuje karą 70 pkt, w grze chodzi o zdobycie jak najmniejszej ilości punktów max Pozostało oznacza liczbe rzutów do końca, w grze chodzi o zdobycie jak największej ilości punktów bez koniećzności zakańczania konkretą lotką opartą o punkty trening Cel oznacza konkretna wartosc do wyrzucenia, mnożnik x1-x3 oznacza które pole na wartości zostało rzucone, chybiony oznacza nietrafiony rzut, pozostało z celu oznacza liczbe koniecznych trafien danego celu by przejśc do nastepnego trening losowy Wyświetlana lista liczb oznacza cele do trafienia w kolejnosci"
            #     text_size: self.width*0.8, None
    RelativeLayout:
        size: 1,1
        MDFillRoundFlatButton:
            on_release: 
                app.root.current = "main";root.manager.transition.direction = "right"
            text:'Powrót'
            size_hint: 0.8,0.1
            pos_hint: {'x': 0.1, 'y':0.03}
            md_bg_color: buttonColour

<ChoosePlayers>:
    playerGrid: playerGrid
    chooseGrid: chooseGrid
    gamesGrid: gamesGrid
    cb180: cb180
    cb301: cb301
    cb501: cb501
    cbmin: cbmin
    cbmax: cbmax
    cb180e: cb180e
    cb301e: cb301e
    cb501e: cb501e
    confirmButton: confirmButton
    name: "chooseplayers"
    on_pre_enter: root.create()
    size: root.width, root.height
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    # GridLayout:
    #     cols: 1
    #     size: root.width,root.height
    #     # spacing: '50dp'
    GridLayout:
        pos_hint: {'x': 0, 'y': 0.8 }
        size_hint: 1,0.2
        id: gamesGrid
        #:set fontSize 20
        cols: 8
        Label:
            text:'[b][i][u]180[/b][/i][/u]'
            color: (0.8,0.05,0.2,1)
            markup: True
            font_size: fontSize
        Label:
            text:'[b][i][u]310[/b][/i][/u]'
            color: (0.8,0.05,0.2,1)
            markup: True
            font_size: fontSize
    
        Label:
            text:'[b][i][u]501[/b][/i][/u]'
            color: (0.8,0.05,0.2,1)
            markup: True
            font_size: fontSize
        Label:
            text:'[b][i][u]MIN[/b][/i][/u]'
            color: (0.8,0.05,0.2,1)
            markup: True
            font_size: fontSize
        Label:
            text:'[b][i][u]MAX[/b][/i][/u]'
            color: (0.8,0.05,0.2,1)
            markup: True
            font_size: fontSize
        Label:
            text:'[b][i][u]180e[/b][/i][/u]'
            color: (0.8,0.05,0.2,1)
            markup: True
            font_size: fontSize
        Label:
            text:'[b][i][u]301e[/b][/i][/u]'
            color: (0.8,0.05,0.2,1)
            markup: True
            font_size: fontSize
        Label:
            text:'[b][i][u]501e[/b][/i][/u]'
            color: (0.8,0.05,0.2,1)
            markup: True
            font_size: fontSize
        MDCheckbox:
            id: cb180
            name: "cb180"
            active: True
            allow_no_selection: False
            color: 0.4,0.3,0.2,1
            group: "gameCheckBox"
        MDCheckbox:
            id: cb301
            name: "cb301"
            allow_no_selection: False
            color: 0.4,0.3,0.2,1
            group: "gameCheckBox"
        MDCheckbox:
            id: cb501
            name: "cb501"
            allow_no_selection: False
            color: 0.4,0.3,0.2,1
            group: "gameCheckBox"
        MDCheckbox:
            id: cbmin
            name: "cbmin"
            allow_no_selection: False
            color: 0.4,0.3,0.2,1
            group: "gameCheckBox"
        MDCheckbox:
            id: cbmax
            name: "cbmax"
            allow_no_selection: False
            color: 0.4,0.3,0.2,1
            group: "gameCheckBox"
        MDCheckbox:
            id: cb180e
            name: "cb180e"
            allow_no_selection: False
            color: 0.4,0.3,0.2,1
            group: "gameCheckBox"
        MDCheckbox:
            id: cb301e
            name: "cb301e"
            allow_no_selection: False
            color: 0.4,0.3,0.2,1
            group: "gameCheckBox"
        MDCheckbox:
            id: cb501e
            name: "cb501e"
            allow_no_selection: False
            color: 0.4,0.3,0.2,1
            group: "gameCheckBox"

    GridLayout:
        id: chooseGrid
        pos_hint: {'x': 0.1, 'y': 0.6 }
        size_hint: 0.8,0.2
        row_force_default: True
        row_default_height: 40
        name: 'chooseGrid'
        cols: 7
        spacing: '10dp'
    GridLayout:
        id: playerGrid
        name: "playerGrid"
        row_force_default: True
        row_default_height: root.height / 8
        
        cols: 4
        pos_hint: {'x': 0.05, 'y': 0.3 }
        size_hint: 0.8,0.4
    GridLayout:
        cols: 2
        pos_hint: {'x': 0, 'y': 0 }
        size_hint: 1,0.1
        MDRoundFlatButton:
            text: "Zatwierdź"
            name: "confirmButton"
            id: confirmButton
            disabled: 'True'   
            color:
            width: root.width / 2
            # on_release: root.saveNames()
            on_press: root.validatePlayers()
            # on_press: app.root.current = "game";root.manager.transition.direction = "left"   
        MDRoundFlatButton:
            text: "Powrót"
            color:
            width: root.width / 2
            # on_release: root.clear();app.root.current = "main";root.manager.transition.direction = "right"   
            # on_release: app.root.current = "main"; root.manager.transition.direction = "right"    
            on_release: root.backFunction()  
                
        
        
<SoloWindow>:
    name: "solo"
    size: root.width,root.height
    on_enter: root.create()
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    GridLayout:
        cols: 1
        size_hint: .6,.8
        pos_hint: {'x': 0.2 , 'y': 0.1}
        spacing: '10dp'
        GridLayout:
            #:set buttonColour  (0.6, 0.4, 0.1, 0.4)
            #:set buttonSizeHint (0.8,0.8)
            #:set buttonPosHint {'x': 0.1, 'y':0 }
            cols: 2
            rows: 4
            size_hint: 1,1
            # pos_hint: {'x': 0.2 , 'y': 0.2}
            # size_hint: 0.5,0.5
            spacing: '10dp'
            RelativeLayout:
                size: 1,1   
                MDFillRoundFlatButton:
                    on_release: root.choose(0)
                    text: "180"
                    size_hint: buttonSizeHint
                    pos_hint: buttonPosHint
                    md_bg_color: buttonColour
            RelativeLayout:
                size: 1,1   
                MDFillRoundFlatButton:
                    on_release: root.choose(1)
                    text: "301"
                    size_hint: buttonSizeHint
                    pos_hint: buttonPosHint
                    md_bg_color: buttonColour
            RelativeLayout:
                size: 1,1   
                MDFillRoundFlatButton:
                    on_release: root.choose(2)
                    text: "501"
                    size_hint: buttonSizeHint
                    pos_hint: buttonPosHint
                    md_bg_color: buttonColour
            RelativeLayout:
                size: 1,1   
                MDFillRoundFlatButton:
                    on_release: root.choose(3)
                    text: "701"
                    size_hint: buttonSizeHint
                    pos_hint: buttonPosHint
                    md_bg_color: buttonColour
            RelativeLayout:
                size: 1,1   
                MDFillRoundFlatButton:
                    on_release: root.choose(4)
                    text: "Min"
                    size_hint: buttonSizeHint
                    pos_hint: buttonPosHint
                    md_bg_color: buttonColour
            RelativeLayout:
                size: 1,1   
                MDFillRoundFlatButton:
                    on_release: root.choose(5)
                    text: "Max"
                    size_hint: buttonSizeHint
                    pos_hint: buttonPosHint
                    md_bg_color: buttonColour
            RelativeLayout:
                size: 1,1   
                MDFillRoundFlatButton:
                    on_release: root.choose(6)
                    text: "Trening"
                    size_hint: buttonSizeHint
                    pos_hint: buttonPosHint
                    md_bg_color: buttonColour
            RelativeLayout:
                size: 1,1   
                MDFillRoundFlatButton:
                    on_release: root.choose(7)
                    text: "Trening losowy"
                    size_hint: buttonSizeHint
                    pos_hint: buttonPosHint
                    md_bg_color: buttonColour
        GridLayout:
            cols: 1
            size_hint: .7,.4
            spacing: '10dp'        
            RelativeLayout:
                size: 1,1
                MDFillRoundFlatButton:
                    on_release: 
                        app.root.current = "database"     
                        root.manager.transition.direction = "left"  
                    text: "Baza danych"
                    size_hint: buttonSizeHint
                    pos_hint: buttonPosHint
                    md_bg_color: buttonColour
            RelativeLayout:
                size: 1,1   
                MDFillRoundFlatButton:
                    on_release: 
                        app.root.current = "main"       
                        root.manager.transition.direction = "right"   
                    text: "Powrót"
                    size_hint: buttonSizeHint
                    pos_hint: buttonPosHint
                    md_bg_color: buttonColour

     

<LoginWindow>:
    errorLabel: errorLabel
    usernameInput: usernameInput
    on_enter: root.create()
    name: "login"
    size: root.width,root.height
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    GridLayout:
        cols: 1
        size_hint: .6,.6
        pos_hint: {'x': 0.2 , 'y': 0.3}
        spacing: '20dp'

        MDLabel:
            name: "usernameLabel"
            text: "Użytkownik"
            # text_size: self.size
            font_size: root.width / 20 + 10
            # halign: "left"
            # valign: "middle"
            theme_text_color: "Custom"
            halign: "center"
            text_color: 0, 0, 1, 1

        MDTextFieldRound:
            id: usernameInput
            name: "usernameInput"
            hint_text: 'Nazwa użytkownika'
            multiline: False
            icon_left: "account"

        MDRoundFlatButton:
            text: "Zaloguj"
            on_press: root.verify()
            size: root.width * 0.6, root.height * 0.1
            font_size: 20
            
        
        Label:
            id: errorLabel
            font_size: root.width / 24
            name: "errorLabel"
            text: ""
            color:

<P>:
    cancel: cancel
    popupInput: popupInput
    # size_hint: 1,.5
    # pos_hint: {'x': 0 , 'y': 0.5}
    size: root.width,root.height
    GridLayout:
        cols: 1
    TextInput:
        id: popupInput
        name: 'popupInput'
        multiline: False
        size_hint: 1,.4
        pos_hint: {'x':0 , 'y':0.5 }
    Button:
        size_hint: 1,.4
        pos_hint: {'x':0 , 'y':0.0 }
        text: "Wyślij"
        color:
        id: cancel
        # on_press:  app.root.current = "game";
        on_press: root.checkempty()
            

<GroupWindow>:
    # popupInput: popupInput
    # pop: pop
    name: "group"
    grid: grid
    size: root.width,root.height
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    # Popup:
    #     id: pop
    #     name: 'pop'
    #     title: 'Wpisz liczbe graczy'
    #     size_hint: 1,.5
    #     pos_hint: {'x': 0 , 'y': 0.5}
    #     GridLayout:
    #         cols: 2    
    #         TextInput:
    #             id: popupInput
    #             name: 'popupInput'
    #             multiline: False
    #         Button:
    #             text: "Wyślij"
    #             color:
    #             id: popupButton
    #             on_press:  root.popDismiss()
    GridLayout:
        id: grid
        cols: 2
        size_hint: 1,.5
        pos_hint: {'x': 0 , 'y': 0.5}
        spacing: '10dp'
    Buttons:



<GameWindow>:
    name: "game"
    usersGrid: usersGrid
    # testlab: testlab
    # size: root.width,root.height
    size_hint: 1, 1
    on_enter: root.create()
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    Navbar:
        id: 'navbar'
    GridLayout:
        size_hint: 1, 0.4
        pos_hint: {'x':0 , 'y':0.4 }
        cols: 2
        id: usersGrid
        name: "usersGrid"  
    Buttons:

<ScoreBoard>:
    scoreboardGrid: scoreboardGrid
    name: "scoreboard"
    on_enter: root.create()
    size_hint: 1, 1
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    GridLayout:
        size_hint: 1, 0.6
        pos_hint: {'x':0 , 'y':0.3 }
        id: scoreboardGrid
        name: "scoreboardGrid"  
        cols: 3
        spacing: '20dp'
    
    RelativeLayout:
        size: 1,1   
        MDFillRoundFlatButton:
            on_release: 
                on_release: root.backFunction() 
            text:'Powrót'
            size_hint: 0.8,0.15
            pos_hint: {'x':0.1 , 'y':0.03 }
            md_bg_color: buttonColour


<Solo180701>:
    name: "solo180701"
    statsGrid: statsGrid
    countLabel: countLabel
    leftLabel: leftLabel
    avgLabel: avgLabel
    size_hint: 1, 1
    on_enter: root.create()
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    GridLayout:
        size_hint: 1, 0.5
        pos_hint: {'x':0 , 'y':0.5 }
        cols: 3
        id: statsGrid
        name: "statsGrid"  

        Label:
            text: "Pozostało"
            color:

        Label:
            text: "Liczba rzutów"
            color:        
        
        Label:
            text: "Średnia rzutu"
            color:

        Label:
            id: leftLabel
            name: "leftLabel"
            text: ""
            color:

        Label:
            id: countLabel
            name: "countLabel"       
            text: "0"
            color:

        Label:
            id: avgLabel
            name: "avgLabel"        
            text: "0"
            color:
    Buttons:

<MinmaxWindow>:
    name: "minmaxwindow"
    leftLabel: leftLabel
    avgLabel: avgLabel
    statsGrid: statsGrid
    thrownGrid: thrownGrid
    sumLabel: sumLabel
    size_hint: 1, 1
    on_enter: root.create()
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    GridLayout:
        size_hint: 1, 0.3
        pos_hint: {'x':0 , 'y':0.7 }
        cols: 3
        id: statsGrid
        name: "statsGrid"  

        Label:
            text: "Pozostało"
            color:

        Label:
            text: "Średnia rzutów"
            color:   
        
        Label:
            text: "Suma"
            color:   
    
        Label:
            id: leftLabel
            name: "leftLabel"
            text: "20"
            color:

        Label:
            id: avgLabel
            name: "avgLabel"        
            text: "0"
            color:

        Label:
            id: sumLabel
            name: "sumLabel"        
            text: "0"
            color:
        
    GridLayout:
        size_hint: 1, 0.3
        pos_hint: {'x':0 , 'y':0.4 }
        cols: 10
        id: thrownGrid
        name: "thrownGrid" 


    Buttons:


<SoloScoreBoard>:
    soloscoreboardGrid: soloscoreboardGrid
    name: "soloscoreboard"
    on_enter: root.create()
    size_hint: 1, 1
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    GridLayout:
        size_hint: 1, 0.6
        pos_hint: {'x':0 , 'y':0.3 }
        id: soloscoreboardGrid
        name: "soloscoreboardGrid"  
        cols: 2
        spacing: '20dp'
    
    GridLayout:  
        cols: 2
        size_hint: 1,0.2  
        
        RelativeLayout:
            size: 1,1   
            MDFillRoundFlatButton:
                on_release: 
                    on_release: root.saveFunction()  
                text: 'Zapisz wynik'
                size_hint: buttonSizeHint
                pos_hint: buttonPosHint
                md_bg_color: buttonColour

        RelativeLayout:
            size: 1,1   
            MDFillRoundFlatButton:
                on_release: 
                    on_release: root.backFunction()
                text:'Powrót'
                size_hint: buttonSizeHint
                pos_hint: buttonPosHint
                md_bg_color: buttonColour

<Records>:
    name: "records"
    size_hint: 1, 1
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'

<FullDatabase>:
    userInput: userInput
    gameSpinner: gameSpinner
    databaseGrid: databaseGrid
    filterGrid: filterGrid
    databaseScroll: databaseScroll
    name: "fulldatabase"
    size_hint: 1, 1
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    GridLayout:
        cols:3
        size_hint: 0.8, 0.15
        pos_hint: {'x': 0.1, 'y': 0.8}
        spacing: '20dp'
        SpinnerWidget:
            size_hint: 1, 1
            background_color: (1,1,1,0.5)
            id: gameSpinner
            text: "Wybierz gre"
            values: ["180","301","501","701","Min","Max",'Trening','Trening losowy']
            # on_text: root.spinner(gameSpinner.text)
    

        RelativeLayout:
            TextInput:
                size_hint: 1, 0.4
                pos_hint: {'x':0 , 'y':0.3 }
                id: userInput
                name: "userInput"            
                hint_text: 'Nazwa użytkownika'
                multiline: False
        
        Button:
            text: "Szukaj"
            on_press: root.find()

    GridLayout:
        id: filterGrid
        size_hint: 0.8, 0.1
        pos_hint: {'x': 0.1 , 'y':0.7 }
    ScrollView:
        id: databaseScroll
        size_hint: 0.8, 0.5
        pos_hint: {'x': 0.1 , 'y':0.2 }
        do_scroll_y: False
        GridLayout:
            id: databaseGrid
            size: root.width, root.height 
            size_hint_x: None
            size_hint_y: None
            row_default_height: root.height * 0.1
            row_force_default: True
            
   
    RelativeLayout:
        size: 1,1   
        MDFillRoundFlatButton:
            on_release: 
                root.backFunction()  
            size_hint: 0.8, 0.15
            pos_hint: {'x': 0.1 , 'y':0.03 }
            text: "Powrót"
            md_bg_color: buttonColour

<RandomTraining>
    name: "randomtraining"    
    leftLabel: leftLabel
    accuracyLabel: accuracyLabel
    targetLabel: targetLabel
    missButton: missButton
    hitButton: hitButton
    rewindButton: rewindButton
    resultsGrid: resultsGrid
    on_enter: root.create()

    size_hint: 1, 1
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'

    GridLayout:
        id: navbarGrid
        cols: 3
        size_hint: 1, 0.2
        pos_hint: {'x':0 , 'y':0.8}
        Label:
            text:'Pozostało'
        Label:
            text:'Skuteczność'
        Label:
            text:'Cel'
    
    GridLayout:
        id: statsGrid
        cols: 3
        size_hint: 1, 0.4
        pos_hint: {'x':0 , 'y':0.6}
        Label:
            text:'20'
            name: "leftLabel"
            id: leftLabel
        Label:
            text:'0%'
            name: "accuracyLabel"
            id: accuracyLabel
        Label:
            text:''
            name: "targetLabel"
            id: targetLabel

    GridLayout:
        cols: 4
        id: resultsGrid
        size_hint: 0.8, 0.4
        pos_hint: {'x':0.1 , 'y':0.3}


    GridLayout:
        id: buttonsGrid
        #:set buttonColour  (0.6, 0.4, 0.1, 0.4)
        #:set buttonSizeHint (0.8,0.8)
        #:set buttonPosHint {'x': 0.1, 'y':0.1 }
        name: "buttonsGrid"
        cols: 3
        size_hint: 1, 0.2

        RelativeLayout:
            size: 1,1   
            MDFillRoundFlatButton:
                name: 'hitButton'
                id: hitButton
                text: "Trafiony"
                size_hint: buttonSizeHint
                pos_hint: buttonPosHint
                md_bg_color: buttonColour

        RelativeLayout:
            size: 1,1   
            MDFillRoundFlatButton:
                name: 'missButton'
                id: missButton
                text: "Chybiony"
                size_hint: buttonSizeHint
                pos_hint: buttonPosHint
                md_bg_color: buttonColour
        
        RelativeLayout:
            size: 1,1   
            MDFillRoundFlatButton:
                name: 'rewindButton'
                id: rewindButton
                text: "Cofnij"
                size_hint: buttonSizeHint
                pos_hint: buttonPosHint
                md_bg_color: buttonColour      
        
<Training>
    name: "training"    
    throwsLabel: throwsLabel
    accuracyLabel: accuracyLabel
    targetLabel: targetLabel
    targetLeftLabel: targetLeftLabel
    missButton: missButton
    x1Button: x1Button
    x2Button: x2Button
    x3Button: x3Button
    rewindButton: rewindButton
    on_enter: root.create()

    size_hint: 1, 1
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'

    GridLayout:
        id: navbarGrid
        cols: 4
        size_hint: 1, 0.2
        pos_hint: {'x':0 , 'y':0.8}
        Label:
            text:'Liczba rzutów'
        Label:
            text:'Skuteczność'
        Label:
            text:'Cel'
        Label:
            text:'Pozostało z celu'
    
    GridLayout:
        id: statsGrid
        cols: 4
        size_hint: 1, 0.4
        pos_hint: {'x':0 , 'y':0.4}
        Label:
            text:'0'
            name: "throwsLabel"
            id: throwsLabel
        Label:
            text:'0%'
            name: "accuracyLabel"
            id: accuracyLabel
        Label:
            text:'1'
            name: "targetLabel"
            id: targetLabel
        Label:
            text:'3'
            name: "targetLeftLabel"
            id: targetLeftLabel

    GridLayout:
        id: hitGrid
        name: "buttonsGrid"
        cols: 3
        size_hint: 1, 0.2
        pos_hint: {'x':0 , 'y':0.2}
        Button:
            text: "Trafiony x1"
            color:
            id: x1Button
            name: "x1Button"
        Button:
            text: "Trafiony x2"
            color:
            id: x2Button
            name: "x2Button"
        Button:
            text: "Trafiony x3"
            color:
            id: x3Button
            name: "x3Button"
    
    GridLayout:
        id: missGrid
        name: "missGrid"
        cols: 2
        size_hint: 1, 0.2
        Button:
            text: "Chybiony"
            color:
            id: missButton
            name: "missButton"
        
        Button:
            text: "Cofnij"
            color:
            id: rewindButton
            name: "rewindButton"
        

<Database>:
    name: "database"
    size: root.width,root.height
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    GridLayout:
        cols: 1
        size_hint: .4,.4
        pos_hint: {'x': 0.3 , 'y': 0.3}
        spacing: '20dp'
        RelativeLayout:
            size: 1,1   
            MDFillRoundFlatButton:
                on_release: 
                    app.root.current = "stats";root.manager.transition.direction = "left"   
                text: "Statystyki gracza"
                size_hint: buttonSizeHint
                pos_hint: buttonPosHint
                md_bg_color: buttonColour
        RelativeLayout:
            size: 1,1   
            MDFillRoundFlatButton:
                on_release:
                    app.root.current = "fulldatabase";root.manager.transition.direction = "left"
                text: "Baza danych"
                size_hint: buttonSizeHint
                pos_hint: buttonPosHint
                md_bg_color: buttonColour
        RelativeLayout:
            size: 1,1   
            MDFillRoundFlatButton:
                on_release:
                    app.root.current = "solo";root.manager.transition.direction = "right"
                text: "Powrót"
                size_hint: buttonSizeHint
                pos_hint: buttonPosHint
                md_bg_color: buttonColour

<Stats>:
    userInput: userInput
    gameSpinner: gameSpinner
    databaseGrid: databaseGrid
    name: "stats"
    size_hint: 1, 1
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'background.jpg'
    GridLayout:
        cols:3
        size_hint: 0.8, 0.15
        pos_hint: {'x': 0.1, 'y': 0.8}
        spacing: '20dp'
        SpinnerWidget:
            size_hint: 1, 1
            background_color: (1,1,1,0.5)
            id: gameSpinner
            text: "Wybierz gre"
            values: ["180","301","501","701","Min","Max",'Trening','Trening losowy']

        RelativeLayout:
            TextInput:
                size_hint: 1, 0.4
                pos_hint: {'x':0 , 'y':0.3 }
                id: userInput
                name: "userInput"            
                hint_text: 'Nazwa użytkownika'
                multiline: False
        
        Button:
            background_color: (1,1,1,0.5)
            text: "Szukaj"
            on_press: root.find()
    GridLayout:
        id: databaseGrid
        size_hint: 0.8, 0.6
        pos_hint: {'x': 0.1 , 'y':0.2 }

    RelativeLayout:
        size: 1,1   
        MDFillRoundFlatButton:
            on_release: 
                root.backFunction()  
            size_hint: 0.8, 0.15
            pos_hint: {'x': 0.1 , 'y':0.03 }
            text: "Powrót"
            md_bg_color: buttonColour